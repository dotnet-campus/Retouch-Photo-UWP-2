<UserControl
    x:Class="Retouch_Photo.Pages.DrawLayout"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:apiContractNotPresent5="http://schemas.microsoft.com/winfx/2006/xaml/presentation?IsApiContractNotPresent(Windows.Foundation.UniversalApiContract,5)"
    xmlns:apiContractPresent5="http://schemas.microsoft.com/winfx/2006/xaml/presentation?IsApiContractPresent(Windows.Foundation.UniversalApiContract,5)"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:developerTools="using:Microsoft.Toolkit.Uwp.DeveloperTools"
    xmlns:animations="using:Microsoft.Toolkit.Uwp.UI.Animations"
    xmlns:controls="using:Microsoft.Toolkit.Uwp.UI.Controls"
    mc:Ignorable="d">

    <UserControl.Resources>

        <!--Background-->
        <SolidColorBrush x:Name="AccentColor"  Color="{ThemeResource SystemAccentColor}"/>
        <SolidColorBrush x:Name="UnAccentColor" Color="{ThemeResource AppForegroundColor}"/>

        <!--Foreground-->
        <SolidColorBrush x:Name="CheckColor" Color="White"/>
        <SolidColorBrush x:Name="UnCheckColor" Color="{ThemeResource SystemBaseHighColor}"/>

    </UserControl.Resources>


    <Grid  Background="{ThemeResource AppBackground}">

        <!--VisualState-->
        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup>

                <!--Phone-->
                <VisualState>
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="0"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>

                        <!--TopBorder-->
                        <Setter Target="TopBorder.(Grid.ColumnSpan)" Value="3"/>
                        <Setter Target="TopLeftStackPanel.Visibility" Value="Collapsed"/>
                        <Setter Target="CenterStackPanel.HorizontalAlignment" Value="Center"/>

                        <!--CenterBorder-->
                        <Setter Target="CenterBorder.(Grid.Column)" Value="0"/>
                        <Setter Target="CenterBorder.(Grid.ColumnSpan)" Value="3"/>
                        
                        <!--Work-->
                        <Setter Target="WorkLeftGrid.Visibility" Value="Visible"/>
                        <Setter Target="WorkRightGrid.Visibility" Value="Visible"/>
                        <Setter Target="WorkDismissOverlay.Visibility" Value="Collapsed"/>

                        <!--LeftBorder-->
                        <Setter Target="LeftBorder.(Grid.RowSpan)" Value="1"/>
                        <Setter Target="LeftBorder.CornerRadius" Value="0"/>
                        <Setter Target="LeftBorder.VerticalAlignment" Value="Stretch"/>
                        <Setter Target="LeftBorder.BorderThickness" Value="0,1,1,1"/>
                        <Setter Target="LeftBorder.Visibility" Value="Collapsed"/>
                        <Setter Target="LeftBorder.Margin" Value="0"/>
                        <Setter Target="LeftBorder.Background" Value="{ThemeResource AppForeground}"/>


                        <!--RightBorder-->
                        <Setter Target="RightBorder.(Grid.Row)" Value="1"/>
                        <Setter Target="RightBorder.CornerRadius" Value="0"/>
                        <Setter Target="RightBorder.(Grid.RowSpan)" Value="2"/>
                        <Setter Target="RightBorder.VerticalAlignment" Value="Center"/>
                        <Setter Target="RightBorder.BorderThickness" Value="1,1,0,1"/>
                        <Setter Target="RightBorder.Visibility" Value="Collapsed"/>
                        <Setter Target="RightBorder.Background" Value="{ThemeResource AppForeground}"/>

                        <!--GridLenght-->
                        <Setter Target="RightGridLenght.Width" Value="70"/>

                    </VisualState.Setters>
                </VisualState>

                <!--Pad-->
                <VisualState>
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="600"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>

                        <!--TopBorder-->
                        <Setter Target="TopBorder.(Grid.ColumnSpan)" Value="3"/>
                        <Setter Target="TopLeftStackPanel.Visibility" Value="Visible"/>
                        <Setter Target="CenterStackPanel.HorizontalAlignment" Value="Right"/>

                        <!--CenterBorder-->
                        <Setter Target="CenterBorder.(Grid.Column)" Value="0"/>
                        <Setter Target="CenterBorder.(Grid.ColumnSpan)" Value="3"/>

                        <!--Work-->
                        <Setter Target="WorkLeftGrid.Visibility" Value="Collapsed"/>
                        <Setter Target="WorkRightGrid.Visibility" Value="Collapsed"/>
                        <Setter Target="WorkDismissOverlay.Visibility" Value="Collapsed"/>

                        <!--LeftBorder-->
                        <Setter Target="LeftBorder.(Grid.RowSpan)" Value="2"/>
                        <Setter Target="LeftBorder.CornerRadius" Value="0,8,8,0"/>
                        <Setter Target="LeftBorder.VerticalAlignment" Value="Center"/>
                        <Setter Target="LeftBorder.BorderThickness" Value="0,1,1,1"/>
                        <Setter Target="LeftBorder.Visibility" Value="Visible"/>
                        <Setter Target="LeftBorder.Margin" Value="0,20"/>
                        <Setter Target="LeftBorder.Background" Value="{ThemeResource AppForeground}"/>

                        <!--RightBorder-->
                        <Setter Target="RightBorder.(Grid.Row)" Value="1"/>
                        <Setter Target="RightBorder.(Grid.RowSpan)" Value="2"/>
                        <Setter Target="RightBorder.CornerRadius" Value="8,0,0,8"/>
                        <Setter Target="RightBorder.VerticalAlignment" Value="Center"/>
                        <Setter Target="RightBorder.BorderThickness" Value="1,1,0,1"/>
                        <Setter Target="RightBorder.Visibility" Value="Visible"/>
                        <Setter Target="RightBorder.Background" Value="{ThemeResource AppForeground}"/> 
                                

                        <!--GridLenght-->
                        <Setter Target="RightGridLenght.Width" Value="70"/>

                    </VisualState.Setters>
                </VisualState>

                <!--PC-->
                <VisualState>
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="900"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>

                        <!--TopBorder-->
                        <Setter Target="TopBorder.(Grid.ColumnSpan)" Value="2"/>
                        <Setter Target="TopLeftStackPanel.Visibility" Value="Visible"/>
                        <Setter Target="CenterStackPanel.HorizontalAlignment" Value="Center"/>

                        <!--CenterBorder-->
                        <Setter Target="CenterBorder.(Grid.Column)" Value="1"/>
                        <Setter Target="CenterBorder.(Grid.ColumnSpan)" Value="1"/>
                        

                        <!--WorkLeftBorder-->
                        <Setter Target="WorkLeftGrid.Visibility" Value="Collapsed"/>
                        <Setter Target="WorkRightGrid.Visibility" Value="Collapsed"/>
                        <Setter Target="WorkDismissOverlay.Visibility" Value="Collapsed"/>

                        <!--LeftBorder-->
                        <Setter Target="LeftBorder.(Grid.RowSpan)" Value="2"/>
                        <Setter Target="LeftBorder.CornerRadius" Value="0"/>
                        <Setter Target="LeftBorder.VerticalAlignment" Value="Stretch"/>
                        <Setter Target="LeftBorder.BorderThickness" Value="0,0,1,0"/>
                        <Setter Target="LeftBorder.Visibility" Value="Visible"/>
                        <Setter Target="LeftBorder.Margin" Value="0"/>
                        <Setter Target="LeftBorder.Background"
                                apiContractNotPresent5:Value="{ThemeResource AppForeground}"
                                apiContractPresent5:Value="{ThemeResource SystemControlChromeLowAcrylicElementBrush}"
                                />             


                        <!--RightBorder-->
                        <Setter Target="RightBorder.(Grid.Row)" Value="0"/>
                        <Setter Target="RightBorder.CornerRadius" Value="0"/>
                        <Setter Target="RightBorder.(Grid.RowSpan)" Value="3"/>
                        <Setter Target="RightBorder.VerticalAlignment" Value="Stretch"/>
                        <Setter Target="RightBorder.BorderThickness" Value="1,0,0,0"/>
                        <Setter Target="RightBorder.Visibility" Value="Visible"/>
                        <Setter Target="RightBorder.Background"
                                apiContractNotPresent5:Value="{ThemeResource AppForeground}"
                                apiContractPresent5:Value="{ThemeResource SystemControlChromeLowAcrylicElementBrush}"
                                />

                        <!--GridLenght-->
                        <Setter Target="RightGridLenght.Width" Value="190"/>

                    </VisualState.Setters>
                </VisualState>

            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>

        
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="70" />
            <ColumnDefinition Width="*"/>
            <ColumnDefinition x:Name="RightGridLenght" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="50"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto" MinHeight="50"/>
        </Grid.RowDefinitions>


        <!--hhhh-->
        <developerTools:AlignmentGrid Grid.ColumnSpan="3" Grid.RowSpan="3" Opacity="0.1" HorizontalStep="20" VerticalStep="20" LineBrush="Gray"/>
        

        <Grid x:Name="TopBorder" BorderThickness="0,0,0,1" BorderBrush="{ThemeResource AppStroke}" 
              Background="{ThemeResource AppLinearBrush}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

                <!--Left-->
            <Border x:Name="TopLeftBorder"/>

            <Border x:Name="TopLeftStackPanel" Grid.Column="1" HorizontalAlignment="Left" >

                <!--Visibility:Show-->
                <animations:Implicit.ShowAnimations>
                    <animations:TranslationAnimation Duration="0:0:0.5" From="-50,0,0" To="0,0,0"/>
                    <animations:OpacityAnimation Duration="0:0:0.5" From="0.0" To="1.0"/>
                </animations:Implicit.ShowAnimations>

                <!--Visibility:Hide-->
                <animations:Implicit.HideAnimations>
                    <animations:TranslationAnimation Duration="0:0:0.5" From="0,0,0" To="-50,0,0"/>
                    <animations:OpacityAnimation Duration="0:0:0.5" From="1.0" To="0.0"/>
                </animations:Implicit.HideAnimations>

                <!--Left-->

            </Border>

            <StackPanel x:Name="CenterStackPanel" Grid.Column="1"  Orientation="Horizontal" >
                <ToggleButton x:Name="SelectionToggleButton" Height="50" Width="60" BorderThickness="0" Background="Transparent" >
                    <FlyoutBase.AttachedFlyout>
                        <Flyout x:Name="SelectionFlyout" Placement="Bottom" FlyoutPresenterStyle="{StaticResource AppFlyoutPresenterStyle}" >
                            <!--Selection-->
                        </Flyout>
                    </FlyoutBase.AttachedFlyout>
                    <PathIcon Data="M8.756,21.254c-0.256,1.312 0.085,2.724 1.048,3.792c1.625,1.802 4.408,1.946 6.211,0.321c1.802,-1.625 1.947,-4.408 0.322,-6.21c-0.76,-0.843 -1.723,-1.312 -2.771,-1.418c-0.138,-0.027 -0.24,-0.217 -0.182,-0.333c0.992,-2.939 5.813,-17.406 5.813,-17.406c0,0 -3.113,0.865 -4.572,4.122c-3.567,10.269 -5.8,16.778 -5.868,17.128l-0.002,0.005l0.001,-0.001Zm5.787,2.48c0.901,-0.812 0.973,-2.204 0.16,-3.105c-0.812,-0.901 -2.204,-0.974 -3.105,-0.161c-0.901,0.813 -0.973,2.204 -0.161,3.105c0.813,0.902 2.204,0.974 3.106,0.161Zm-5.166,-7.895l0.876,-3.445c-0.476,0.106 -0.868,0.194 -1.154,0.259c-0.122,0.045 -0.3,-0.076 -0.312,-0.216c0.003,-1.053 -0.364,-2.059 -1.124,-2.902c-1.625,-1.803 -4.408,-1.947 -6.211,-0.322c-1.802,1.625 -1.947,4.408 -0.322,6.211c0.963,1.068 2.332,1.554 3.663,1.435l0,0l0.005,-0.001c0.169,-0.015 1.785,-0.376 4.579,-1.019Zm-6.453,-4.993c0.902,-0.812 2.293,-0.74 3.106,0.161c0.812,0.902 0.74,2.293 -0.161,3.106c-0.901,0.812 -2.293,0.74 -3.105,-0.161c-0.813,-0.902 -0.741,-2.293 0.16,-3.106Zm13.057,3.459c1.943,-0.454 4.105,-0.96 6.459,-1.513c3.391,-1.116 4.573,-4.123 4.573,-4.123c0,0 -5.074,1.125 -9.9,2.198l-1.132,3.438Z"/>
                </ToggleButton>
                <ToggleButton x:Name="EffectsToggleButton" Height="50" Width="60" BorderThickness="0" Background="Transparent">
                    <FlyoutBase.AttachedFlyout>
                        <Flyout x:Name="EffectsFlyout" Placement="Bottom" FlyoutPresenterStyle="{StaticResource AppFlyoutPresenterStyle}" >
                            <!--Effects-->
                        </Flyout>
                    </FlyoutBase.AttachedFlyout>
                    <PathIcon Data="M10.109,15.47l2.391,0l0,6.242l-2.391,0l0,-6.242Zm14.891,4.298l-11.65,0l0,-2.4l11.65,0l0,2.4Zm-15.526,0l-9.474,0l0,-2.4l9.474,0l0,2.4Zm-5.248,-11.909l2.391,0l0,6.242l-2.391,0l0,-6.242Zm20.774,4.321l-17.574,0l0,-2.4l17.574,0l0,2.4Zm-21.59,0l-3.41,0l0,-2.4l3.41,0l0,2.4Zm11.579,-12.18l2.391,0l0,6.242l-2.391,0l0,-6.242Zm-14.989,1.868l14.251,0l0,2.4l-14.251,0l0,-2.4Zm18.133,0l6.867,0l0,2.4l-6.867,0l0,-2.4Z"/>
                </ToggleButton>
                <ToggleButton x:Name="OthersToggleButton" Height="50" Width="60" BorderThickness="0" Background="Transparent" >
                    <FlyoutBase.AttachedFlyout>
                        <Flyout x:Name="OthersFlyout" Placement="Bottom" FlyoutPresenterStyle="{StaticResource AppFlyoutPresenterStyle}" >
                            <!--Others-->
                        </Flyout>
                    </FlyoutBase.AttachedFlyout>
                    <PathIcon Data="M19.558,22.745l-2.4,0l0,-3.545l-13.667,0l0,-13.255l-3.491,0l0,-2.4l3.491,0l0,-3.545l2.4,0l0,3.545l11.558,0l3.545,-3.545l1.697,1.697l-3.133,3.133l0,11.97l3.613,0l0,2.4l-3.613,0l0,3.545Zm-11.97,-5.945l9.57,0l0,-9.57l-9.57,9.57Zm7.461,-10.855l-9.158,0l0,9.158l9.158,-9.158Z"/>
                </ToggleButton>
            </StackPanel>

            <!--Right-->
            <Border x:Name="TopRightBorder" Grid.Column="2" />

        </Grid>

        <!--CenterContent-->
        <Border x:Name="CenterBorder" Grid.Row="1" Grid.RowSpan="2"/>


        <!--BottomBar-->
        <Grid  x:Name="BottomGrid" Margin="12" Grid.Row="2" Grid.Column="1" VerticalAlignment="Bottom" >
                       
            <Grid.Resources>
                <Storyboard  x:Name="AppbarRectangleStoryboard" >
                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Width)" Storyboard.TargetName="AppbarRectangle" EnableDependentAnimation ="True">
                        <SplineDoubleKeyFrame x:Name="AppbarRectangleFrameWidth" KeyTime="0:0:0.2" Value="200" KeySpline="0.5,1.0 1,1"/>
                    </DoubleAnimationUsingKeyFrames>
                </Storyboard>
            </Grid.Resources>

            <controls:DropShadowPanel Grid.Column="1" HorizontalAlignment="Center" OffsetY="4" BlurRadius="20" ShadowOpacity="0.8" Color="{ThemeResource AppStrokeColor}">
                <Rectangle x:Name="AppbarRectangle"  RadiusX="25" RadiusY="25"  MinHeight="50" MinWidth="100" Fill="{ThemeResource AppForeground}"/>
            </controls:DropShadowPanel>

                <!--BottomBar-->
            <Border x:Name="BottomBorder" Grid.Column="1" MinHeight="50" MinWidth="100" Padding="20,0" HorizontalAlignment="Center" SizeChanged="BottomBorder_SizeChanged">
                <ContentPresenter x:Name="BottomBarFrame" />
            </Border>

        </Grid>


        <!--DismissOverlay-->
        <Border x:Name="WorkDismissOverlay" Visibility="Collapsed" Grid.ColumnSpan="3" Grid.RowSpan="3" Background="{ThemeResource AppStroke}" />

        
        <!--WorkLeft-->
        <Grid x:Name="WorkLeftGrid" Margin="8" Grid.Column="0" Grid.Row="2" >
            <controls:DropShadowPanel Grid.Column="1" HorizontalAlignment="Center" OffsetY="4" BlurRadius="20" ShadowOpacity="0.8" Color="{ThemeResource AppStrokeColor}">
                <Rectangle x:Name="WorkLeftRectangle" RadiusX="25" RadiusY="25" Height="50" Width="50" Fill="{ThemeResource AppForeground}"/>
            </controls:DropShadowPanel>
            <ContentPresenter x:Name="WorkLeftBorder" HorizontalAlignment="Center" VerticalAlignment="Center"/>
        </Grid>
        <!--WorkRight-->
        <Grid x:Name="WorkRightGrid" Margin="8" Grid.Column="2" Grid.Row="2" >
            <controls:DropShadowPanel Grid.Column="1" HorizontalAlignment="Center" OffsetY="4" BlurRadius="20" ShadowOpacity="0.8" Color="{ThemeResource AppStrokeColor}">
                <Rectangle  x:Name="WorkRightRectangle"  RadiusX="25" RadiusY="25" Height="50" Width="50" Fill="{ThemeResource AppForeground}"/>
            </controls:DropShadowPanel>
            <PathIcon x:Name="WorkRightBorder" HorizontalAlignment="Center" VerticalAlignment="Center"  Data="M11.839,19.464l9.279,-5.4l2.56,1.38l-11.839,6.519l-11.839,-6.519l2.278,-1.38l9.561,5.4Zm0,-4.33l-9.561,-5.471l-2.278,1.319l11.839,6.531l11.839,-6.531l-2.132,-1.319l-9.707,5.471Zm0,-2.069l-11.839,-6.494l11.839,-6.571l11.839,6.571l-11.839,6.494Z"/>
        </Grid>


        <!--Left-->
        <Border x:Name="LeftBorder" Grid.Column="0" Grid.Row="1" BorderBrush="{ThemeResource AppStroke}">

            <!--Visibility:Show-->
            <animations:Implicit.ShowAnimations>
                <animations:TranslationAnimation Duration="0:0:0.2" From="-100,0,0" To="0,0,0"/>
                <animations:OpacityAnimation Duration="0:0:0.2" From="0.0" To="1.0"/>
            </animations:Implicit.ShowAnimations>

            <!--Visibility:Hide-->
            <animations:Implicit.HideAnimations>
                <animations:TranslationAnimation Duration="0:0:0.2" From="0,0,0" To="-100,0,0"/>
                <animations:OpacityAnimation Duration="0:0:0.2" From="1.0" To="0.0"/>
            </animations:Implicit.HideAnimations>

        </Border>
        <!--Right-->
        <Border x:Name="RightBorder" Grid.Column="3" BorderBrush="{ThemeResource AppStroke}" >

            <!--Visibility:Show-->
            <animations:Implicit.ShowAnimations>
                <animations:TranslationAnimation Duration="0:0:0.2" From="100,0,0" To="0,0,0"/>
                <animations:OpacityAnimation Duration="0:0:0.2" From="0.0" To="1.0"/>
            </animations:Implicit.ShowAnimations>

            <!--Visibility:Hide-->
            <animations:Implicit.HideAnimations>
                <animations:TranslationAnimation Duration="0:0:0.2" From="0,0,0" To="100,0,0"/>
                <animations:OpacityAnimation Duration="0:0:0.2" From="1.0" To="0.0"/>
            </animations:Implicit.HideAnimations>

        </Border>

        
        
    </Grid>

</UserControl>
